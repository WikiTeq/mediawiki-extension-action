name: 'Mediawiki Extension PHPUnit Runner - dependency installer'
description: 'Installs multiple dependencies at once for the main action'
author: 'WikiTeq'
branding:
  color: yellow
  icon: book
inputs:
  dependencies:
    description: JSON encoded array of dependencies to pass to checkouts
    required: false
    default: '[]'
runs:
  using: 'composite'
  strategy:
    matrix:
      deps: ${{ fromJson( inputs.dependencies ) }}
  steps:
    - uses: actions/checkout@v4
      with:
        path: ${{ matrix.deps.path }}
        repository: ${{ matrix.deps.repository }}
        token: ${{ matrix.deps.token || '' }}
